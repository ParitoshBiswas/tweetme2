{"ast":null,"code":"import _wrapRegExp from\"F:/Programming/Projects/Twitter-Like-App/tweetme2/tweetme2-web/node_modules/@babel/runtime/helpers/esm/wrapRegExp.js\";import _slicedToArray from\"F:/Programming/Projects/Twitter-Like-App/tweetme2/tweetme2-web/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{ActionBtn}from'./buttons';import{UserDisplay,UserPicture}from'../profiles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function ParentTweet(props){var tweet=props.tweet;return tweet.og_tweet?/*#__PURE__*/_jsx(Tweet,{isRetweet:true,retweeter:props.retweeter,hideActions:true,className:' ',tweet:tweet.og_tweet}):null;}export function Tweet(props){var tweet=props.tweet,didRetweet=props.didRetweet,hideActions=props.hideActions,isRetweet=props.isRetweet,retweeter=props.retweeter;var _useState=useState(props.tweet?props.tweet:null),_useState2=_slicedToArray(_useState,2),actionTweet=_useState2[0],setActionTweet=_useState2[1];var className=props.className?props.className:\"col-10 mx-auto col-md-6\";className=isRetweet===true?\"\".concat(className,\" p-2 border rounded\"):className;var path=window.location.pathname;var match=path.match(/*#__PURE__*/_wrapRegExp(/(\\d+)/,{tweetid:1}));var urlTweetId=match?match.groups.tweetid:-1;var isDetail=\"\".concat(tweet.id)===\"\".concat(urlTweetId);var handleLink=function handleLink(event){event.preventDefault();window.location.href=\"/\".concat(tweet.id);};var handlePerformAction=function handlePerformAction(newActionTweet,status){if(status===200){setActionTweet(newActionTweet);}else if(status===201){if(didRetweet){didRetweet(newActionTweet);}}};return/*#__PURE__*/_jsxs(\"div\",{className:className,children:[isRetweet===true&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"small text-muted\",children:[\"Retweet via \",/*#__PURE__*/_jsx(UserDisplay,{user:retweeter})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(UserPicture,{user:tweet.user})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-11\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(UserDisplay,{includeFullName:true,user:tweet.user})}),/*#__PURE__*/_jsx(\"p\",{children:tweet.content}),/*#__PURE__*/_jsx(ParentTweet,{tweet:tweet,retweeter:tweet.user})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn btn-group px-0\",children:[actionTweet&&hideActions!==true&&/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:\"like\",display:\"Likes\"}}),/*#__PURE__*/_jsx(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:\"unlike\",display:\"Unlike\"}}),/*#__PURE__*/_jsx(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:\"retweet\",display:\"Retweet\"}})]}),isDetail===true?null:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary btn-sm\",onClick:handleLink,children:\"View\"})]})]})]})]});}","map":{"version":3,"names":["React","useState","ActionBtn","UserDisplay","UserPicture","ParentTweet","props","tweet","og_tweet","retweeter","Tweet","didRetweet","hideActions","isRetweet","actionTweet","setActionTweet","className","path","window","location","pathname","match","urlTweetId","groups","tweetid","isDetail","id","handleLink","event","preventDefault","href","handlePerformAction","newActionTweet","status","user","content","type","display"],"sources":["F:/Programming/Projects/Twitter-Like-App/tweetme2/tweetme2-web/src/tweets/detail.js"],"sourcesContent":["import React, {useState} from \"react\"\r\n\r\nimport { ActionBtn } from './buttons'\r\n\r\nimport {\r\n  UserDisplay,\r\n  UserPicture\r\n}from '../profiles'\r\n\r\nexport function ParentTweet(props){\r\n    const {tweet} = props\r\n    return tweet.og_tweet ? <Tweet isRetweet retweeter={props.retweeter} hideActions className={' '} tweet={tweet.og_tweet} /> : null\r\n  }\r\n  \r\n  export function Tweet(props){\r\n      const {tweet, didRetweet, hideActions, isRetweet, retweeter} = props\r\n      const [actionTweet, setActionTweet] = useState(props.tweet ? props.tweet : null)\r\n      let className = props.className ? props.className : \"col-10 mx-auto col-md-6\"\r\n      className = isRetweet === true ? `${className} p-2 border rounded` : className\r\n      const path = window.location.pathname\r\n      const match = path.match(/(?<tweetid>\\d+)/)\r\n      const urlTweetId = match ? match.groups.tweetid : -1\r\n      const isDetail = `${tweet.id}` === `${urlTweetId}`\r\n\r\n      const handleLink = (event) => {\r\n        event.preventDefault()\r\n        window.location.href = `/${tweet.id}`\r\n      }\r\n      \r\n      const handlePerformAction = (newActionTweet, status) => {\r\n        if (status === 200){\r\n          setActionTweet(newActionTweet)\r\n        } else if(status === 201) {\r\n          if (didRetweet){\r\n            didRetweet(newActionTweet)\r\n          }\r\n        } \r\n      }\r\n      \r\n      return <div className={className}>\r\n        {isRetweet === true && <div className=\"mb-2\">\r\n          <span className=\"small text-muted\">Retweet via <UserDisplay user={retweeter} /></span>\r\n        </div>}\r\n        <div className='d-flex'>\r\n          <div className=\"\">\r\n            <UserPicture user={tweet.user} />\r\n          </div>\r\n          <div className=\"col-11\">\r\n              <div>\r\n                <p>\r\n                  <UserDisplay includeFullName user={tweet.user} />\r\n                </p>\r\n                <p>{tweet.content}</p>\r\n                <ParentTweet tweet={tweet} retweeter={tweet.user} />\r\n              </div>\r\n          <div className='btn btn-group px-0'>\r\n          {(actionTweet && hideActions !== true) && <React.Fragment>\r\n            <ActionBtn tweet={actionTweet} didPerformAction={handlePerformAction} action={{type: \"like\", display:\"Likes\"}}/>\r\n            <ActionBtn tweet={actionTweet} didPerformAction={handlePerformAction} action={{type: \"unlike\", display:\"Unlike\"}}/>\r\n            <ActionBtn tweet={actionTweet} didPerformAction={handlePerformAction} action={{type: \"retweet\", display:\"Retweet\"}}/>\r\n          </React.Fragment>\r\n          }\r\n            {isDetail === true ? null : <button className='btn btn-outline-primary btn-sm' onClick={handleLink}>View</button>}\r\n          </div>\r\n          </div>\r\n        \r\n      </div>\r\n      </div>\r\n    }"],"mappings":"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"},"metadata":{},"sourceType":"module"}